{"version":3,"sources":["component/Modal/Modal.module.css","component/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","component/PreLoader/PreLoader.module.css","component/ImageGallery/ImageGallery.module.css","component/LoadMore/LoadMore.module.css","component/Searchbar/Searchbar.js","component/PreLoader/PreLoader.js","component/Modal/Modal.js","component/ImageGalleryItem/ImageGalleryItem.js","component/ImageGallery/ImageGallery.js","component/LoadMore/LoadMore.js","services/fetchDataApi.js","App.js","index.js","component/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputSearch","handleInputChange","e","setState","target","value","handleSubmit","preventDefault","onSubmit","props","reset","className","s","container","form","this","type","button","buttonLabel","input","autoComplete","autoFocus","placeholder","onChange","Component","Preloader","loader","color","height","width","rootModal","document","querySelector","Modal","handleKeydown","code","onClose","handleOverlayClick","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","onClick","modal","children","ImageGalleryItem","picture","onOpenPicture","item","src","webformatURL","alt","tags","image","ImageGallery","gallery","map","id","LoadMore","onLoadMore","showBtn","fetchDataApi","searchQuery","page","URL","KEY","axios","get","then","res","data","App","showModal","showLoader","error","largeImage","total","fetchGallary","hits","prevState","catch","finally","handleFormSubmit","toggleModal","handleOpenPicture","showLoadMore","Math","ceil","prevProps","message","length","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aa6242fb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__36e9P\",\"modal\":\"Modal_modal__GpDKz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__1L7jr\",\"image\":\"ImageGalleryItem_image__2EDwQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3_oCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"PreLoader_loader__1p3To\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__160hG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMore_button__2BlLi\"};","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\n\nimport s from './Searchbar.module.css';\n\nexport class Searchbar extends Component {\n  state = {\n    inputSearch: '',\n  };\n\n  handleInputChange = e => {\n    this.setState({ inputSearch: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    onSubmit(this.state.inputSearch);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ inputSearch: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.container}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.buttonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            value={this.state.inputSearch}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import Loader from 'react-loader-spinner';\nimport s from './PreLoader.module.css';\n\nexport default function Preloader() {\n  return (\n    <div className={s.loader}>\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n// import PropTypes from 'prop-types'\nimport s from './Modal.module.css';\n\nconst rootModal = document.querySelector('#rootModal');\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleOverlayClick}>\n        <div className={s.modal}> {this.props.children}</div>\n      </div>,\n      rootModal,\n    );\n  }\n}\n\nexport default Modal;\n","// import PropTypes from 'prop-types'\n\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ picture, onOpenPicture }) {\n  // console.log(picture);\n  return (\n    <li\n      className={s.item}\n      onClick={() => {\n        onOpenPicture(picture);\n      }}\n    >\n      <img src={picture.webformatURL} alt={picture.tags} className={s.image} />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n// import PropTypes from 'prop-types';\n\nfunction ImageGallery({ gallery, onOpenPicture }) {\n  return (\n    <ul className={s.gallery}>\n      {gallery.map(picture => (\n        <ImageGalleryItem\n          key={picture.id}\n          picture={picture}\n          onOpenPicture={onOpenPicture}\n        />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import s from './LoadMore.module.css';\n\nexport default function LoadMore({ onLoadMore, showBtn }) {\n  return (\n    <div className=\"wrapper\">\n      <button className={s.button} type=\"button\" onClick={onLoadMore}>\n        Load More\n      </button>\n    </div>\n  );\n}\n","import axios from 'axios';\n\nconst fetchDataApi = (searchQuery, page = 1) => {\n  const URL = 'https://pixabay.com/api/';\n  const KEY = '18667452-b6cf3b15ecb06490e1251bb0b';\n  return axios\n    .get(`${URL}?key=${KEY}&per_page=12&page=${page}&q=${searchQuery}`)\n    .then(res => res.data);\n};\n\nexport default fetchDataApi;\n","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport s from './App.module.css';\n\nimport Searchbar from './component/Searchbar';\nimport PreLoader from './component/PreLoader';\nimport Modal from './component/Modal';\nimport ImageGallery from './component/ImageGallery';\nimport LoadMore from './component/LoadMore';\n\nimport fetchDataApi from './services/fetchDataApi';\n\nexport class App extends Component {\n  state = {\n    gallery: [],\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    showLoader: false,\n    error: null,\n    largeImage: {},\n    total: 0,\n  };\n\n  componentDidMount() {\n    this.setState({ showLoader: true });\n    this.fetchGallary();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const naxtQuery = this.state.searchQuery;\n    if (prevQuery !== naxtQuery) {\n      this.fetchGallary();\n    }\n  }\n\n  fetchGallary = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ showLoader: true });\n\n    fetchDataApi(searchQuery, page)\n      .then(({ hits, total }) =>\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...hits],\n          page: prevState.page + 1,\n          total,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ showLoader: false }));\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery, gallery: [], page: 1 });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  handleOpenPicture = largeImage => {\n    this.setState({ largeImage });\n    this.toggleModal();\n  };\n\n  showLoadMore = () => {\n    const { total, page } = this.state;\n    return Math.ceil(total / 12) !== page - 1;\n  };\n\n  render() {\n    const { error, showLoader, showModal, gallery, largeImage } = this.state;\n    const showLoadMore = this.showLoadMore();\n    return (\n      <div className={s.container}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        {error && <p>{error.message}</p>}\n\n        {gallery.length > 0 && (\n          <ImageGallery\n            gallery={gallery}\n            onOpenPicture={this.handleOpenPicture}\n          />\n        )}\n\n        {showLoader && <PreLoader />}\n\n        {gallery.length > 0 && !showLoader && showLoadMore && (\n          <LoadMore\n            onLoadMore={this.fetchGallary}\n            showBtn={this.showLoadMore}\n          />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImage.largeImageURL} alt={largeImage.tags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Searchbar_container__2_Q4N\",\"form\":\"Searchbar_form__2WbtY\",\"button\":\"Searchbar_button__RmSqr\",\"buttonLabel\":\"Searchbar_buttonLabel__2C4tE\",\"input\":\"Searchbar_input__OMIdX\"};"],"sourceRoot":""}